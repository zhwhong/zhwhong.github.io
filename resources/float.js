function Gravity(t){function e(t,e){var o=document.createElement("span");return o.innerHTML=t,o.style.position="relative",o.style.display="inline-block",o.style.minWidth="10px",o.style.color=n.randomColor(),o._own={pos:{x:0,y:0},vel:{x:-.5+Math.random(),y:-.5+Math.random()},speed:{x:1,y:1},dir:{x:1,y:1}},o}var n=this,o=document.getElementById(t),i=o.textContent,s=i.split("");this.animate=!0,this.floating=!0,this.resetTime=0,this.positionType=getComputedStyle(o).position,this.lerp=function(t,e,n){return(1-n)*t+n*e},this.checkBound=function(){if(o.hasAttribute("data-bound"))return"true"===o.dataset.bound},this.useBound=this.checkBound(),this.colors=["#717171"],this.randomColor=function(){var t=Math.floor(Math.random()*this.colors.length);return this.colors[t]},this.bounds=this.useBound?{min:{x:o.offsetLeft,y:o.offsetTop},max:{x:o.offsetLeft+o.offsetWidth,y:o.offsetTop+o.offsetHeight}}:{min:{x:0,y:0},max:{x:window.innerWidth,y:window.innerHeight}},this.pointInCircle=function(t,e,n){var o=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y);return[o<=n*n,o]},this.textSpans=[],o.innerHTML="",s.forEach(function(t,i){var s=e(t,{x:0,y:0});o.appendChild(s),n.textSpans.push(s)}),this.getDim=function(){this.textSpans.forEach(function(t,e){var i={x:0,y:0};"relative"!==n.positionType&&"absolute"!==n.positionType||(i.x=o.offsetLeft,i.y=o.offsetTop),t._own.real={x:i.x+t.offsetLeft,y:i.y+t.offsetTop},t._own.size={x:t.offsetWidth,y:t.offsetHeight}})},this.getDim(),this.floatText=function(){this.textSpans.forEach(function(t,e){(t._own.pos.x+t._own.real.x<n.bounds.min.x||t._own.pos.x+t._own.real.x+t._own.size.x>n.bounds.max.x)&&(t._own.dir.x*=-1),(t._own.pos.y+t._own.real.y<n.bounds.min.y||t._own.pos.y+t._own.real.y+t._own.size.y>n.bounds.max.y)&&(t._own.dir.y*=-1),t._own.pos.x+=t._own.vel.x*t._own.speed.x*t._own.dir.x,t._own.pos.y+=t._own.vel.y*t._own.speed.y*t._own.dir.y,t.style.transform="translateX("+t._own.pos.x+"px) translateY("+t._own.pos.y+"px)"})},this.update=function(){this.animate&&(this.floating?this.floatText():this.floatBackwards())},this.floatBackwards=function(){this.textSpans.forEach(function(t,e){var o=n.lerp(t._own.pos.x,0,n.resetTime/10),i=n.lerp(t._own.pos.y,0,n.resetTime/10);t.style.transform="translateX("+o+"px) translateY("+i+"px)"}),10===this.resetTime&&(this.animate=!1,this.resetTime=0),this.resetTime++},this.reset=function(){this.floating=!1},this.restart=function(){this.textSpans.forEach(function(t,e){t._own.pos.x=0,t._own.pos.y=0}),this.floating=!0,this.animate=!0},window.onresize=function(){n.getDim()}}function animation(t){paragraph.update(),gravity.update()}var time=0,paragraph=new Gravity("text"),gravity=new Gravity("reset"),button=document.getElementById("reset");button.addEventListener("click",function(){gravity.animate?(gravity.reset(),paragraph.reset()):(gravity.restart(),paragraph.restart())}),$(document).ready(function(){setTimeout(function(){gravity.animate?(gravity.reset(),paragraph.reset()):(gravity.restart(),paragraph.restart())},5e3)});var render=function(t){requestAnimationFrame(render),animation(t)};render(time);